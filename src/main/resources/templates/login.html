<html layout:decorate="~{layout}">
<div layout:fragment="content">
  <!-- 구현 Start -->
  <!-- login-form-section start -->
  <section class="form login-form-section">
    <div class="logo-box">
      <span>oGym</span>
    </div>
    <form class="login-form" action="">
      <div class="input-box loginId">
        <input id="loginId" type="text" placeholder="로그인 ID를 입력해주세요">
        <div class="error"></div>
      </div>
      <div class="input-box password">
        <input id="loginpassword" type="password" placeholder="비밀번호를 입력해주세요">
        <div class="error"></div>
      </div>
      <button class="btn btn-long">로그인</button>
    </form>
    <div class="link-box">
      <div class="signup-link">
        <a href="/user/signup">회원가입</a>
      </div>
      <div class="delimiter"></div>
      <div class="find-link">
        <a href="/user/find">아이디/비밀번호 찾기</a>
      </div>
    </div>
    <div>
      <span class="login">간편 로그인</span>
    </div>
    <div class="login-logo">
      <div class="logo" id="login-kakao">
        <a href="#">
          <img th:src="@{/image/login_Kakao.png}" alt="">
        </a>
      </div>
      <div class="logo" id="login-naver">
        <a href="">
          <img th:src="@{/image/login_naver.png}" alt="">
        </a>
      </div>
      <div class="logo" id="login_google">
        <a href="">
          <img th:src="@{/image/login_Google.png}" alt="">
        </a>
      </div>
      <div class="logo" id="login_instagram">
        <a href="">
          <img th:src="@{/image/login_Instagram.png}" alt="">
        </a>
      </div>
      <div class="logo" id="login-facebook">
        <a href="">
          <img th:src="@{/image/login_Facebook.png}" alt="">
        </a>
      </div>
    </div>
  </section>
  <!-- login-form-section end -->
  <!-- 구현 End -->
</div>
<script layout:fragment="script" type="text/javascript">
  $(document).ready(function () {
	function updateloginButtonState() {
		var loginId = $("#loginId").val();
		var loginpassword = $("#loginpassword").val();
		var loginButton = $(".btn-long");

		if (loginId.trim() !== "" && loginpassword.trim() !== "") {
			loginButton.css({ background: "black", color: "white" });
		} else {
			loginButton.css({ background: "", color: "" });
		}
	}

	$("#loginId, #loginpassword").keyup(function () {
		updateloginButtonState();
	});
});

$(document).ready(function () {
	$(".btn-long").click(function (event) {
		event.preventDefault();

		var loginId = $("#loginId").val();
		var loginPassword = $("#loginpassword").val();
		var loginButton = $(".btn-long");

		var idErrorMessage = $(".input-box.loginId .error");
		var passwordErrorMessage = $(".input-box.password .error");

		idErrorMessage.text("");
		passwordErrorMessage.text("");

		if (loginId.trim() === "" && loginPassword.trim() === "") {
			idErrorMessage.text("아이디를 입력해주세요.");
			passwordErrorMessage.text("비밀번호를 입력해주세요.");
		} else if (loginId.trim() === "") {
			idErrorMessage.text("아이디를 입력해주세요.");
		} else if (loginPassword.trim() === "") {
			passwordErrorMessage.text("비밀번호를 입력해주세요.");
		} else {
			$.ajax({
				url: "API Request URL",
				method: "POST",
				data: {
					id: loginId,
					password: loginPassword
				},
				success: function (response) {
					window.location.href = "";
				},
				error: function (error) {
					alert("가입된 아이디가 없습니다.");
				}
			});
		}
	});
});

</script>
</html>